<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta charset="UTF-8">
    <title>busi</title>
    <script src="dist/busi.js"></script>

</head>
<body>
    <div id="app">
        <h2>{{title}}</h2>
        <h1>{{name}}</h1>
         <div b-if="aaa">aaaaa
            <div b-if="ccc">ccc</div>
         </div>
         <div b-else>bbbb</div>
        <input type="text" name="" b-model="man.dd">
        <div b-bind:class="class"></div>
        <div b-for="(data,index) in list"> 
            <div>{{data.key}}</div>
            <div>{{data.color}}</div>
            <div b-bind:class="color"></div>
            <div b-if="aaa">aaaaa
                <div b-if="ccc">ccc</div>
            </div>
            <div b-else>bbbb</div>
            <div b-for="(aa,index) in forlist">
                <div>{{aa.key}}</div>
            </div>
        </div>
        <list></list>
    </div>
    <script type="text/javascript">
        // TODO 不存在隐藏
        // 多级对象设置
    Busi.component({
        name: 'list',
        template: '<ul><li>listitem1</li><li>{{name}}</li></ul><div>hahahhah</div>',
        init: function () {
            console.log('init');
        },
        ready: function () {
            console.log('ready');        
        },
        methods: {
            getName:function () {
                console.log('getName');
            }
        }
    });    
    var busi = new Busi(
    {
        component: {
                data: {
                    name: 'hello world',
                    man: {dd:'dd'},
                    title: 'haha',
                    class:'red',
                    aaa:true,
                    ccc:true,
                    list:[
                    {
                        key : 1,
                        color: 'red',
                        forlist : [
                        {
                            key:333
                        },
                        {
                            key:333
                        }
                        ]
                    },
                    {
                        key : 2,
                        color: 'green',
                        forlist : [
                        {
                            key:444
                        },
                        {
                            key:444
                        }
                        ]
                    }
                    ]
                }
            }, 
        el: document.querySelector('#app')
    }
    );

    window.setTimeout(function () {
        busi.name = 'canfoo';
        busi.title = 'hehe';
        busi.getData().man.dd = 'man??';
        busi.class = 'green';
        busi.aaa = false;
        busi.ccc = false;
        // busi.list = [
        // {
        //     key : 3
        // },
        // {
        //     key : 4
        // }
        // ];
    }, 2000);

</script>
<style type="text/css">
    .red {
        height: 20px;
        width: 20px;
        background-color: red;
    }
    .green {
        height: 20px;
        width: 20px;
        background-color: green;
    }
</style>
<body>
<html>
